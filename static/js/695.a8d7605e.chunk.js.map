{"version":3,"file":"static/js/695.a8d7605e.chunk.js","mappings":"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","sources":["webpack://react-training/./src/components/News/News.module.css?fa32","components/News/NewsSearchForm.jsx","components/News/News.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"News_container__PmJ-I\"};","import React, { useState } from 'react';\n\nexport default function NewsSearchForm({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => setQuery(e.currentTarget.value);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" value={query} onChange={handleChange} />\n      <button type=\"submit\">–ò—Å–∫–∞—Ç—å</button>\n    </form>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport css from './News.module.css';\nimport NewsSearchForm from './NewsSearchForm';\n\naxios.defaults.headers.common['Authorization'] =\n  'Bearer 4330ebfabc654a6992c2aa792f3173a3';\n\nconst APIfetchArticles = ({\n  searchQuery = '',\n  currentPage = 1,\n  pageSize = 5,\n} = {}) => {\n  return axios\n    .get(\n      `https://newsapi.org/v2/everything?q=${searchQuery}&pageSize=${pageSize}&page=${currentPage}`\n    )\n    .then(response => response.data.articles);\n};\n\nexport default function News() {\n  const [articles, setArticles] = useState([]);\n  const [query, setQuery] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    const fetchArticles = () => {\n      setIsLoading(true);\n\n      APIfetchArticles({ searchQuery: query, currentPage })\n        .then(responseArticles => {\n          setArticles(prevArticles => [...prevArticles, ...responseArticles]);\n        })\n        .catch(error => setError(error.message))\n        .finally(() => setIsLoading(false));\n    };\n\n    fetchArticles();\n  }, [currentPage, query]);\n\n  const updatePage = () => {\n    setCurrentPage(prevPage => prevPage + 1);\n  };\n\n  const onChangeQuery = query => {\n    setQuery(query);\n    setCurrentPage(1);\n    setArticles([]);\n    setError(null);\n  };\n\n  const shouldRenderLoadMoreButton = articles.length > 0 && !isLoading;\n\n  return (\n    <div className='container'>\n      <div className={css.container}>\n        {error && <h1>–û–π –æ—à–∏–±–∫–∞, –≤—Å—ë –ø—Ä–æ–ø–∞–ª–æ!!!</h1>}\n\n        <NewsSearchForm onSubmit={onChangeQuery} />\n\n        <ul>\n          {articles.map(({ title, url }) => (\n            <li key={title}>\n              <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n                {title}\n              </a>\n            </li>\n          ))}\n        </ul>\n\n        {shouldRenderLoadMoreButton && (\n          <button type=\"button\" onClick={updatePage}>\n            –ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë\n          </button>\n        )}\n\n        {isLoading && (\n          <p style={{ fontSize: 24, display: 'flex', alignItems: 'center' }}>\n            –ó–∞–≥—Ä—É–∂–∞–µ–º...\n            <span\n              aria-label=\"–ò–∫–æ–Ω–∫–∞\"\n              role=\"img\"\n              style={{ fontSize: 32, marginLeft: 10 }}\n            >\n              üßô‚Äç‚ôÇÔ∏è\n            </span>\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// export default class News extends Component {\n//   state = {\n//     articles: [],\n//     currentPage: 1,\n//     searchQuery: '',\n//     isLoading: false,\n//     error: null,\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     if (prevState.searchQuery !== this.state.searchQuery) {\n//       this.fetchArticles();\n//     }\n//   }\n\n//   onChangeQuery = query => {\n//     this.setState({\n//       searchQuery: query,\n//       currentPage: 1,\n//       articles: [],\n//       error: null,\n//     });\n//   };\n\n// fetchArticles = () => {\n//   const { currentPage, searchQuery } = this.state;\n//   const options = { searchQuery, currentPage };\n\n//   this.setState({ isLoading: true });\n\n//   fetchArticles(options)\n//     .then(articles => {\n//       this.setState(prevState => ({\n//         articles: [...prevState.articles, ...articles],\n//         currentPage: prevState.currentPage + 1,\n//       }));\n//     })\n//     .catch(error => this.setState({ error }))\n//     .finally(() => this.setState({ isLoading: false }));\n// };\n\n//   render() {\n//     const { articles, isLoading, error } = this.state;\n//     const shouldRenderLoadMoreButton = articles.length > 0 && !isLoading;\n\n//     return (\n// <div>\n//   {error && <h1>–û–π –æ—à–∏–±–∫–∞, –≤—Å—ë –ø—Ä–æ–ø–∞–ª–æ!!!</h1>}\n\n//         <NewsSearchForm onSubmit={this.onChangeQuery} />\n\n// <ul>\n//   {articles.map(({ title, url }) => (\n//     <li key={title}>\n//       <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n//         {title}\n//       </a>\n//     </li>\n//   ))}\n// </ul>\n\n// {shouldRenderLoadMoreButton && (\n//   <button type=\"button\" onClick={this.fetchArticles}>\n//     –ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë\n//   </button>\n// )}\n\n// {isLoading && (\n//   <p style={{ fontSize: 24, display: 'flex', alignItems: 'center' }}>\n//     –ó–∞–≥—Ä—É–∂–∞–µ–º...\n//     <span\n//       aria-label=\"–ò–∫–æ–Ω–∫–∞\"\n//       role=\"img\"\n//       style={{ fontSize: 32, marginLeft: 10 }}\n//     >\n//       üßô‚Äç‚ôÇÔ∏è\n//     </span>\n//   </p>\n//         )}\n//       </div>\n//     );\n//   }\n// }\n"],"names":["NewsSearchForm","_ref","onSubmit","_useState","useState","_useState2","_slicedToArray","query","setQuery","_jsxs","e","preventDefault","children","_jsx","type","value","onChange","currentTarget","axios","News","articles","setArticles","_useState3","_useState4","_useState5","_useState6","currentPage","setCurrentPage","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","error","setError","useEffect","arguments","length","undefined","_ref$searchQuery","searchQuery","_ref$currentPage","_ref$pageSize","pageSize","concat","then","response","data","APIfetchArticles","responseArticles","prevArticles","_toConsumableArray","catch","message","finally","shouldRenderLoadMoreButton","className","css","map","_ref2","title","url","href","target","rel","onClick","prevPage","style","fontSize","display","alignItems","role","marginLeft"],"sourceRoot":""}