"use strict";(self.webpackChunkreact_training=self.webpackChunkreact_training||[]).push([[695],{4695:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(3433),a=t(9439),i=t(2791),u=t(5294),c="News_container__PmJ-I",s=t(184);function o(e){var n=e.onSubmit,t=(0,i.useState)(""),r=(0,a.Z)(t,2),u=r[0],c=r[1];return(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(u),c("")},children:[(0,s.jsx)("input",{type:"text",value:u,onChange:function(e){return c(e.currentTarget.value)}}),(0,s.jsx)("button",{type:"submit",children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})}u.Z.defaults.headers.common.Authorization="Bearer 4330ebfabc654a6992c2aa792f3173a3";function l(){var e=(0,i.useState)([]),n=(0,a.Z)(e,2),t=n[0],l=n[1],f=(0,i.useState)(""),h=(0,a.Z)(f,2),d=h[0],g=h[1],p=(0,i.useState)(1),v=(0,a.Z)(p,2),m=v[0],x=v[1],b=(0,i.useState)(!1),j=(0,a.Z)(b,2),S=j[0],y=j[1],Z=(0,i.useState)(null),k=(0,a.Z)(Z,2),_=k[0],z=k[1];(0,i.useEffect)((function(){if(d){y(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.searchQuery,t=void 0===n?"":n,r=e.currentPage,a=void 0===r?1:r,i=e.pageSize,c=void 0===i?5:i;return u.Z.get("https://newsapi.org/v2/everything?q=".concat(t,"&pageSize=").concat(c,"&page=").concat(a)).then((function(e){return e.data.articles}))}({searchQuery:d,currentPage:m}).then((function(e){l((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))}))})).catch((function(e){return z(e.message)})).finally((function(){return y(!1)}))}}),[m,d]);var w=t.length>0&&!S;return(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:c,children:[_&&(0,s.jsx)("h1",{children:"\u041e\u0439 \u043e\u0448\u0438\u0431\u043a\u0430, \u0432\u0441\u0451 \u043f\u0440\u043e\u043f\u0430\u043b\u043e!!!"}),(0,s.jsx)(o,{onSubmit:function(e){g(e),x(1),l([]),z(null)}}),(0,s.jsx)("ul",{children:t.map((function(e){var n=e.title,t=e.url;return(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:n})},n)}))}),w&&(0,s.jsx)("button",{type:"button",onClick:function(){x((function(e){return e+1}))},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451"}),S&&(0,s.jsxs)("p",{style:{fontSize:24,display:"flex",alignItems:"center"},children:["\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c...",(0,s.jsx)("span",{"aria-label":"\u0418\u043a\u043e\u043d\u043a\u0430",role:"img",style:{fontSize:32,marginLeft:10},children:"\ud83e\uddd9\u200d\u2642\ufe0f"})]})]})})}}}]);
//# sourceMappingURL=695.a8d7605e.chunk.js.map